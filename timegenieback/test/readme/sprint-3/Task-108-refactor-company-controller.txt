# timegenieback

How to run:
Using Postman

This goes over some refactoring and authorization and adding a new table to our existing database.

+++++++++++++++++++++++++++++++++REQUIRED++++++++++++++++++++++++++++++++++++++:
Under the sql folder there is a sql file called administrator.sql.
You must insert this table and the data into your database, without it we cannot manipulate the company table.
+++++++++++++++++++++++++++++++++REQUIRED++++++++++++++++++++++++++++++++++++++:

1. In order to create a new company in the database you must log in as an admin:
   Method: POST
   URL: http://localhost:3000/app/login
   {
       "username": "superadmin1",
       "password": "super"
   }

   If you successfully log in as this admin you should recieve back a message similar to this one:
   {
       "success": true,
       "message": "Welcome back SUPERADMIN: Wes",
       "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InN1cGVyYWRtaW4xIiwidHlwZSI6IlNVUEVSQURNSU4iLCJ
       pYXQiOjE2OTk0OTU4OTIsImV4cCI6MTY5OTQ5OTQ5Mn0.5QQSdSKQK6acVTr_R5HrkCkg9e6LpPIsghwMrU5uoyg"
   }

   You must use the token that is generated by your own Postman.

2. Now to create a company:
   Method: PUT
   URL: http://localhost:3000/app/company
   Go into the Authorization tab and change the Type to Bearer Token, in the box that appears paste your token.
   Now use the JSON below to create a new company and send:
   {
     "name": "Raytheon",
     "phone": "123-456-9999",
     "email": "raytheon@example.com",
     "description": "Description of Raytheon",
     "address1": "123 Main Street",
     "city": "San Diego",
     "state": "CA",
     "country": "US",
     "postalcode": "92124"
   }

   If you are successful you will receive back the company data you just inserted into the company table.

3. Next while still using the same token you can update a company:
   Method: PATCH
   URL: http://localhost:3000/app/company
   First paste the token in the authorization tab before sending the request.
   We can update any field on the company table, in this example we will just update only a few fields.
   But what is required is the name of the company.
   {
     "name": "Raytheon",
     "email": "raytheon@hotmail.com",
     "description": "Altering the description of Raytheon.",
     "address1": "123 That Street",
     "postalcode": "92126"
   }

   If successful you will get back the information of the company and the updated fields.

4. For this one you will need to log in to an existing employee.
   Using the token generated for the employee use:
   Method: GET
   URL: http://localhost:3000/app/company

   All you need to do is put the token in the authorization tab and send the request.
   If successful you should get back the info of the company that this employee works for.



